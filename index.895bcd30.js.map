{"mappings":"0DACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,ECZX,MAAMK,EAASC,SAASC,cAAc,gBACtCC,QAAQC,IAAIJ,GACZ,MAAMK,EAAUJ,SAASC,cAAc,UACvCC,QAAQC,IAAIC,GACZ,MAAMC,EAAYL,SAASC,cAAc,YACzCC,QAAQC,IAAIE,GACZ,MAAMC,EAAaN,SAASC,cAAc,cAC1CC,QAAQC,IAAIG,GAEZ,MAAMC,EAAc,ICbb,MAKLC,aACE,OAAOC,MACL,qEAAqEC,KAAKC,kBAAkBD,KAAKE,gBAAgBF,KAAKG,gEACtHC,MAAKC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,G,eAX1BC,EAAA7B,EAAA,CAAAmB,KAAA,QAAQ,MACRU,EAAA7B,EAAA,CAAAmB,KAAA,OAAO,GACPU,EAAA7B,EAAA,CAAAmB,KAAA,UAAU,G,GD2CZ,SAASW,EAAUC,GAoBf,OAnBcA,EAAWC,KAAI,EAACC,aAACA,EAAYC,KAACA,EAAIC,MAACA,EAAKC,MAACA,EAAKC,SAACA,EAAQC,UAACA,KAC3D,yCACDL,WAAsBC,oHAGnBC,8DAGAC,iEAGGC,kEAGCC,sCAIdC,KAAK,G,CAtBZ/B,EAAOgC,iBAAiB,UA5BxB,SAAsBC,GAClBA,EAAMC,iBAEgB,KAAlB7B,EAAQZ,QAGZe,EAAYM,KAAO,EAEnBN,EAAYI,MAAQP,EAAQZ,MAAM0C,OAGlC3B,EAAYC,aAAaM,MAAKqB,IAC1BjC,QAAQC,IAAIgC,GAEZ,MAAMb,EAAaa,EAAKC,KAGxB/B,EAAUgC,UAAYhB,EAAUC,GAE5Ba,EAAKG,UAAY/B,EAAYK,SAA8B,IAAnBuB,EAAKG,UAC7ChC,EAAWiC,UAAUC,IAAI,aAI7BlC,EAAWiC,UAAUE,OAAO,YAAY,I,IAKhDnC,EAAWyB,iBAAiB,SAyB5B,WACIxB,EAAYM,MAAQ,EAEpBN,EAAYC,aAAaM,MAAKqB,IAC1BjC,QAAQC,IAAIgC,GACZ,MAAMb,EAAaa,EAAKC,KACxB/B,EAAUqC,mBAAmB,YAAarB,EAAUC,GAAY,G","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/index.js","src/fetchPhoto.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","import './css/styles.css';\nimport { MakeAPI } from \"./fetchPhoto.js\"\n\n\nconst formEl = document.querySelector(\".search-form\");\nconsole.log(formEl);\nconst inputEl = document.querySelector(\".input\")\nconsole.log(inputEl);\nconst galleryEl = document.querySelector(\".gallery\");\nconsole.log(galleryEl);\nconst loadMoreEl = document.querySelector(\".load-more\");\nconsole.log(loadMoreEl);\n\nconst unsplashAPI = new MakeAPI();\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    if (inputEl.value === \"\") {\n        return;\n    }\n    unsplashAPI.page = 1;\n\n    unsplashAPI.photo = inputEl.value.trim();\n\n\n    unsplashAPI.fetchPhoto().then(data => {\n        console.log(data)\n        \n        const arrayPhoto = data.hits\n        \n\n        galleryEl.innerHTML = makePhoto(arrayPhoto)\n\n        if (data.totalHits < unsplashAPI.perPage || data.totalHits === 0) {\n            loadMoreEl.classList.add(\"is-hidden\")\n            return\n        }\n        \n        loadMoreEl.classList.remove(\"is-hidden\")\n    })\n};\n\nformEl.addEventListener(\"submit\", handleSubmit);\nloadMoreEl.addEventListener(\"click\", handleloadMore)\n\nfunction makePhoto(arrayPhoto) {\n    const photo = arrayPhoto.map(({webformatURL,tags,likes,views,comments,downloads}) => {\n        return `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"300px\"height=\"300px\"/>\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>likes ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>views ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>comments ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>downloads ${downloads}</b>\n    </p>\n  </div>\n</div>`\n    }).join(\"\")\n    return photo;\n};\n\nfunction handleloadMore() {\n    unsplashAPI.page += 1;\n\n    unsplashAPI.fetchPhoto().then(data => {\n        console.log(data)\n        const arrayPhoto = data.hits\n        galleryEl.insertAdjacentHTML('beforeend', makePhoto(arrayPhoto))\n    })\n}\n\n\n\n\n\n\n\n\n\n","export class MakeAPI {\n  photo = null;\n  page = 1;\n  perPage = 40;\n\n  fetchPhoto() {\n    return fetch(\n      `https://pixabay.com/api/?key=34851334-286cf58f2651b78053c9b207d&q=${this.photo}&per_page=${this.perPage}&page=${this.page}&image_type=photo&orientation=horizontal&safesearch=true`\n    ).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  }\n}\n"],"names":["Object","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$1f0dc3b9307be026$var$formEl","document","querySelector","console","log","$1f0dc3b9307be026$var$inputEl","$1f0dc3b9307be026$var$galleryEl","$1f0dc3b9307be026$var$loadMoreEl","$1f0dc3b9307be026$var$unsplashAPI","fetchPhoto","fetch","this","photo","perPage","page","then","response","ok","Error","status","json","$parcel$interopDefault","$1f0dc3b9307be026$var$makePhoto","arrayPhoto","map","webformatURL","tags","likes","views","comments","downloads","join","addEventListener","event","preventDefault","trim","data","hits","innerHTML","totalHits","classList","add","remove","insertAdjacentHTML"],"version":3,"file":"index.895bcd30.js.map"}